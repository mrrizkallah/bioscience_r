<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Lecture 3: Making choices</title>

<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #303030; color: #cccccc; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; }
td.sourceCode { padding-left: 5px; }
pre, code { color: #cccccc; background-color: #303030; }
code > span.kw { color: #f0dfaf; } /* Keyword */
code > span.dt { color: #dfdfbf; } /* DataType */
code > span.dv { color: #dcdccc; } /* DecVal */
code > span.bn { color: #dca3a3; } /* BaseN */
code > span.fl { color: #c0bed1; } /* Float */
code > span.ch { color: #dca3a3; } /* Char */
code > span.st { color: #cc9393; } /* String */
code > span.co { color: #7f9f7f; } /* Comment */
code > span.ot { color: #efef8f; } /* Other */
code > span.al { color: #ffcfaf; } /* Alert */
code > span.fu { color: #efef8f; } /* Function */
code > span.er { color: #c3bf9f; } /* Error */
code > span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
code > span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code > span.sc { color: #dca3a3; } /* SpecialChar */
code > span.vs { color: #cc9393; } /* VerbatimString */
code > span.ss { color: #cc9393; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { } /* Variable */
code > span.cf { color: #f0dfaf; } /* ControlFlow */
code > span.op { color: #f0efd0; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code > span.at { } /* Attribute */
code > span.do { color: #7f9f7f; } /* Documentation */
code > span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code > span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code > span.in { color: #7f9f7f; font-weight: bold; } /* Information */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>


<style type="text/css">
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Bioinformatics for Pharmacy</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Lectures
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="r-prog.html">Lecture 1: R programming</a>
    </li>
    <li>
      <a href="data-summary.html">Lecture 2: Data summary</a>
    </li>
    <li>
      <a href="prob-and-stat.html">Lecture 2: Probability</a>
    </li>
    <li>
      <a href="func.html">Lecture 3: Functions</a>
    </li>
    <li>
      <a href="cond.html">Lecture 3: Conditioning</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Labs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lab1.html">Lab 1: DNA exercise</a>
    </li>
    <li>
      <a href="lab2.html">Lab 2: Air quality</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://mrrizkallah.github.io/bioscience_r/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Lecture 3: Making choices</h1>

</div>


<!-- ```{r, include = FALSE}
source("../bin/chunk-options.R")
knitr_fig_path("04-cond-")
``` -->
<div id="conditionals" class="section level3">
<h3>Conditionals</h3>
<p>In order to update our function to decide between saving or not, we need to write code that automatically decides between multiple options. The computer can make these deicisons through logical comparisons.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">num &lt;-<span class="st"> </span><span class="dv">37</span>
num &gt;<span class="st"> </span><span class="dv">100</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>As 37 is not greater than 100, this returns a <code>FALSE</code> object. And as you likely guessed, the opposite of <code>FALSE</code> is <code>TRUE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">num &lt;<span class="st"> </span><span class="dv">100</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>We pair these logical comparison tools with what R calls a <strong>conditional statement</strong>, and it looks like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">num &lt;-<span class="st"> </span><span class="dv">37</span>
if (num &gt;<span class="st"> </span><span class="dv">100</span>) {
  <span class="kw">print</span>(<span class="st">&quot;greater&quot;</span>)
} else {
  <span class="kw">print</span>(<span class="st">&quot;not greater&quot;</span>)
}
<span class="kw">print</span>(<span class="st">&quot;done&quot;</span>)</code></pre></div>
<pre><code>## [1] &quot;not greater&quot;
## [1] &quot;done&quot;</code></pre>
<p>The second line of this code uses an <code>if</code> statement to tell R that we want to make a choice. If the following test is <code>TRUE</code>, the body of the <code>if</code> (i.e., the lines in the curly braces underneath it) are executed. If the test is <code>FALSE</code>, the body of the <code>else</code> is executed instead. Only one or the other is ever executed:</p>
<!-- <img src="../figures/python-flowchart-conditional.svg" alt="Executing a Conditional" /> -->
<div class="figure">
<img src="figures/python-flowchart-conditional.svg" alt="Conditional programming" />
<p class="caption">Conditional programming</p>
</div>
<p>In the example above, the test <code>num &gt; 100</code> returns the value <code>FALSE</code>, which is why the code inside the <code>if</code> block was skipped and the code inside the <code>else</code> statement was run instead.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">num &gt;<span class="st"> </span><span class="dv">100</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>And as you likely guessed, the opposite of <code>FALSE</code> is <code>TRUE</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">num &lt;<span class="st"> </span><span class="dv">100</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Conditional statements don't have to include an <code>else</code>. If there isn't one, R simply does nothing if the test is false:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">num &lt;-<span class="st"> </span><span class="dv">53</span>
if (num &gt;<span class="st"> </span><span class="dv">100</span>) {
  <span class="kw">print</span>(<span class="st">&quot;num is greater than 100&quot;</span>)
}</code></pre></div>
<p>We can also chain several tests together when there are more than two options. This makes it simple to write a function that returns the sign of a number:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">sign &lt;-<span class="st"> </span>function(num) {
  if (num &gt;<span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">return</span>(<span class="dv">1</span>)
  } else if (num ==<span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">return</span>(<span class="dv">0</span>)
  } else {
    <span class="kw">return</span>(-<span class="dv">1</span>)
  }
}

<span class="kw">sign</span>(-<span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] -1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sign</span>(<span class="dv">0</span>)</code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sign</span>(<span class="dv">2</span>/<span class="dv">3</span>)</code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Note that when combining <code>else</code> and <code>if</code> in an <code>else if</code> statement, the <code>if</code> portion still requires a direct input condition. This is never the case for the <code>else</code> statement alone, which is only executed if all other conditions go unsatisfied. Note that the test for equality uses two equal signs, <code>==</code>.</p>
</div>
<div id="other-comparisons" class="section level2">
<h2>Other Comparisons</h2>
<p>Other tests include:</p>
<ul>
<li><p>greater than or equal to (<code>&gt;=</code>),</p></li>
<li><p>less than or equal to(<code>&lt;=</code>), and</p></li>
<li><p>not equal to (<code>!=</code>).</p></li>
</ul>
<p>We can also combine tests:</p>
<ul>
<li><p>two ampersands, <code>&amp;&amp;</code>, symbolize &quot;and&quot;,</p></li>
<li><p>two vertical bars, <code>||</code>, symbolize &quot;or&quot;,</p></li>
</ul>
<p><code>&amp;&amp;</code> is only true if both parts are true:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">if (<span class="dv">1</span> &gt;<span class="st"> </span><span class="dv">0</span> &amp;&amp;<span class="st"> </span>-<span class="dv">1</span> &gt;<span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">print</span>(<span class="st">&quot;both parts are true&quot;</span>)
} else {
  <span class="kw">print</span>(<span class="st">&quot;at least one part is not true&quot;</span>)
}</code></pre></div>
<pre><code>## [1] &quot;at least one part is not true&quot;</code></pre>
<p>while <code>||</code> is true if either part is true:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">if (<span class="dv">1</span> &gt;<span class="st"> </span><span class="dv">0</span> ||<span class="st"> </span>-<span class="dv">1</span> &gt;<span class="st"> </span><span class="dv">0</span>) {
    <span class="kw">print</span>(<span class="st">&quot;at least one part is true&quot;</span>)
} else {
  <span class="kw">print</span>(<span class="st">&quot;neither part is true&quot;</span>)
}</code></pre></div>
<pre><code>## [1] &quot;at least one part is true&quot;</code></pre>
<p>In this case, &quot;either&quot; means &quot;either or both&quot;, not &quot;either one or the other but not both&quot;.</p>
<div id="saving-automatically-generated-figures" class="section level3">
<h3>Saving Automatically Generated Figures</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">analyze &lt;-<span class="st"> </span>function(filename) {
  <span class="co"># Plots the average, min, and max inflammation over time.</span>
  <span class="co"># Input is character string of a csv file.</span>
  dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file =</span> filename, <span class="dt">header =</span> <span class="ot">FALSE</span>)
  avg_day_inflammation &lt;-<span class="st"> </span><span class="kw">apply</span>(dat, <span class="dv">2</span>, mean)
  <span class="kw">plot</span>(avg_day_inflammation)
  max_day_inflammation &lt;-<span class="st"> </span><span class="kw">apply</span>(dat, <span class="dv">2</span>, max)
  <span class="kw">plot</span>(max_day_inflammation)
  min_day_inflammation &lt;-<span class="st"> </span><span class="kw">apply</span>(dat, <span class="dv">2</span>, min)
  <span class="kw">plot</span>(min_day_inflammation)
}

<span class="kw">pdf</span>(<span class="st">&quot;inflammation-01.pdf&quot;</span>)
<span class="kw">analyze</span>(<span class="st">&quot;data/inflammation-01.csv&quot;</span>)
<span class="kw">dev.off</span>()</code></pre></div>
<p>Now that we know how to have R make decisions based on input values, let's update <code>analyze</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">analyze &lt;-<span class="st"> </span>function(filename, <span class="dt">output =</span> <span class="ot">NULL</span>) {
  <span class="co"># Plots the average, min, and max inflammation over time.</span>
  <span class="co"># Input:</span>
  <span class="co">#    filename: character string of a csv file</span>
  <span class="co">#    output: character string of pdf file for saving</span>
  if (!<span class="kw">is.null</span>(output)) {
    <span class="kw">pdf</span>(output)
  }
  dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file =</span> filename, <span class="dt">header =</span> <span class="ot">FALSE</span>)
  avg_day_inflammation &lt;-<span class="st"> </span><span class="kw">apply</span>(dat, <span class="dv">2</span>, mean)
  <span class="kw">plot</span>(avg_day_inflammation)
  max_day_inflammation &lt;-<span class="st"> </span><span class="kw">apply</span>(dat, <span class="dv">2</span>, max)
  <span class="kw">plot</span>(max_day_inflammation)
  min_day_inflammation &lt;-<span class="st"> </span><span class="kw">apply</span>(dat, <span class="dv">2</span>, min)
  <span class="kw">plot</span>(min_day_inflammation)
  if (!<span class="kw">is.null</span>(output)) {
    <span class="kw">dev.off</span>()
  }
}</code></pre></div>
<p>We added an argument, <code>output</code>, that by default is set to <code>NULL</code>. An <code>if</code> statement at the beginning checks the argument <code>output</code> to decide whether or not to save the plots to a pdf. Let's break it down. The function <code>is.null</code> returns <code>TRUE</code> if a variable is <code>NULL</code> and <code>FALSE</code> otherwise. The exclamation mark, <code>!</code>, stands for &quot;not&quot;. Therefore the line in the <code>if</code> block is only executed if <code>output</code> is &quot;not null&quot;.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">output &lt;-<span class="st"> </span><span class="ot">NULL</span>
<span class="kw">is.null</span>(output)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">!<span class="kw">is.null</span>(output)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Now we can use <code>analyze</code> interactively, as before,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">analyze</span>(<span class="st">&quot;data/inflammation-01.csv&quot;</span>)</code></pre></div>
<p><img src="cond_files/figure-html/inflammation-01-1.png" width="672" /><img src="cond_files/figure-html/inflammation-01-2.png" width="672" /><img src="cond_files/figure-html/inflammation-01-3.png" width="672" /></p>
<p>but also use it to save plots,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">analyze</span>(<span class="st">&quot;data/inflammation-01.csv&quot;</span>, <span class="dt">output =</span> <span class="st">&quot;inflammation-01.pdf&quot;</span>)</code></pre></div>
<p>Before going further, we will create a directory <code>results</code> for saving our plots. It is <a href="http://swcarpentry.github.io/good-enough-practices-in-scientific-computing/">good practice</a> in data analysis projects to save all output to a directory separate from the data and analysis code.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># create a new folder using R</span>
<span class="kw">dir.create</span>(<span class="st">&quot;results&quot;</span>)</code></pre></div>
<p>Now run <code>analyze</code> and save the plot in the <code>results</code> directory,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">analyze</span>(<span class="st">&quot;data/inflammation-01.csv&quot;</span>, <span class="dt">output =</span> <span class="st">&quot;results/inflammation-01.pdf&quot;</span>)</code></pre></div>
<p>This now works well when we want to process one data file at a time, but how can we specify the output file in <code>analyze_all</code>? We need to do two things:</p>
<ol style="list-style-type: decimal">
<li>Substitute the filename ending &quot;csv&quot; with &quot;pdf&quot;.</li>
<li>Save the plot to the <code>results</code> directory.</li>
</ol>
<p>To change the extension to &quot;pdf&quot;, we will use the function <code>sub</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">f &lt;-<span class="st"> &quot;inflammation-01.csv&quot;</span>
<span class="kw">sub</span>(<span class="st">&quot;csv&quot;</span>, <span class="st">&quot;pdf&quot;</span>, f)</code></pre></div>
<pre><code>## [1] &quot;inflammation-01.pdf&quot;</code></pre>
<p>To add the &quot;results&quot; directory to the filename use the function <code>file.path</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.path</span>(<span class="st">&quot;results&quot;</span>, <span class="kw">sub</span>(<span class="st">&quot;csv&quot;</span>, <span class="st">&quot;pdf&quot;</span>, f))</code></pre></div>
<pre><code>## [1] &quot;results/inflammation-01.pdf&quot;</code></pre>
<p>Now let's update <code>analyze_all</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">analyze_all &lt;-<span class="st"> </span>function(pattern) {
  <span class="co"># Directory name containing the data</span>
  data_dir &lt;-<span class="st"> &quot;data&quot;</span>
  <span class="co"># Directory name for results</span>
  results_dir &lt;-<span class="st"> &quot;results&quot;</span>
  <span class="co"># Runs the function analyze for each file in the current working directory</span>
  <span class="co"># that contains the given pattern.</span>
  filenames &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path =</span> data_dir, <span class="dt">pattern =</span> pattern)
  for (f in filenames) {
    pdf_name &lt;-<span class="st"> </span><span class="kw">file.path</span>(results_dir, <span class="kw">sub</span>(<span class="st">&quot;csv&quot;</span>, <span class="st">&quot;pdf&quot;</span>, f))
    <span class="kw">analyze</span>(<span class="kw">file.path</span>(data_dir, f), <span class="dt">output =</span> pdf_name)
  }
}</code></pre></div>
<p>Now we can save all of the results with just one line of code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">analyze_all</span>(<span class="st">&quot;inflammation.*csv&quot;</span>)</code></pre></div>
<p>Now if we need to make any changes to our analysis, we can edit the <code>analyze</code> function and quickly regenerate all the figures with <code>analyze_all</code>.</p>
</div>
</div>
<div id="exercise-changing-the-behavior-of-the-plot-command" class="section level2">
<h2>Exercise: Changing the Behavior of the Plot Command</h2>
<p>One of your collaborators asks if you can recreate the figures with lines instead of points. Find the relevant argument to <code>plot</code> by reading the documentation (<code>?plot</code>), update <code>analyze</code>, and then recreate all the figures with <code>analyze_all</code>.</p>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiTGVjdHVyZSAzOiBNYWtpbmcgY2hvaWNlcyIKcXVlc3Rpb25zOgotICJIb3cgZG8gSSBtYWtlIGNob2ljZXMgdXNpbmcgYGlmYCBhbmQgYGVsc2VgIHN0YXRlbWVudHM/IgotICJIb3cgZG8gSSBjb21wYXJlIHZhbHVlcz8iCi0gIkhvdyBkbyBJIHNhdmUgbXkgcGxvdHMgdG8gYSBQREYgZmlsZT8iCm9iamVjdGl2ZXM6Ci0gIlNhdmUgcGxvdChzKSBpbiBhIFBERiBmaWxlLiIKLSAiV3JpdGUgY29uZGl0aW9uYWwgc3RhdGVtZW50cyB3aXRoIGBpZmAgYW5kIGBlbHNlYC4iCi0gIkNvcnJlY3RseSBldmFsdWF0ZSBleHByZXNzaW9ucyBjb250YWluaW5nIGAmJmAgKCdhbmQnKSBhbmQgYHx8YCAoJ29yJykuIgprZXlwb2ludHM6Ci0gIlNhdmUgYSBwbG90IGluIGEgcGRmIGZpbGUgdXNpbmcgYHBkZihcIm5hbWUucGRmXCIpYCBhbmQgc3RvcCB3cml0aW5nIHRvIHRoZSBwZGYgZmlsZSB3aXRoIGBkZXYub2ZmKClgLiIKLSAiVXNlIGBpZiAoY29uZGl0aW9uKWAgdG8gc3RhcnQgYSBjb25kaXRpb25hbCBzdGF0ZW1lbnQsIGBlbHNlIGlmIChjb25kaXRpb24pYCB0byBwcm92aWRlIGFkZGl0aW9uYWwgdGVzdHMsIGFuZCBgZWxzZWAgdG8gcHJvdmlkZSBhIGRlZmF1bHQuIgotICJUaGUgYm9kaWVzIG9mIGNvbmRpdGlvbmFsIHN0YXRlbWVudHMgbXVzdCBiZSBzdXJyb3VuZGVkIGJ5IGN1cmx5IGJyYWNlcyBgeyB9YC4iCi0gIlVzZSBgPT1gIHRvIHRlc3QgZm9yIGVxdWFsaXR5LiIKLSAiYFggJiYgWWAgaXMgb25seSB0cnVlIGlmIGJvdGggWCBhbmQgWSBhcmUgdHJ1ZS4iCi0gImBYIHx8IFlgIGlzIHRydWUgaWYgZWl0aGVyIFggb3IgWSwgb3IgYm90aCwgYXJlIHRydWUuIgpzb3VyY2U6IFJtZAotLS0KCjwhLS0gYGBge3IsIGluY2x1ZGUgPSBGQUxTRX0Kc291cmNlKCIuLi9iaW4vY2h1bmstb3B0aW9ucy5SIikKa25pdHJfZmlnX3BhdGgoIjA0LWNvbmQtIikKYGBgIC0tPgoKCmBgYHtyIHNldHVwLCBpbmNsdWRlPUZBTFNFfQpsaWJyYXJ5KGtuaXRyKQprbml0cjo6b3B0c19jaHVuayRzZXQoZWNobyA9IFRSVUUpCmBgYAoKIyMjIENvbmRpdGlvbmFscwoKSW4gb3JkZXIgdG8gdXBkYXRlIG91ciBmdW5jdGlvbiB0byBkZWNpZGUgYmV0d2VlbiBzYXZpbmcgb3Igbm90LCB3ZSBuZWVkIHRvIHdyaXRlIGNvZGUgdGhhdCBhdXRvbWF0aWNhbGx5IGRlY2lkZXMgYmV0d2VlbiBtdWx0aXBsZSBvcHRpb25zLiBUaGUgY29tcHV0ZXIgY2FuIG1ha2UgdGhlc2UgZGVpY2lzb25zIHRocm91Z2ggbG9naWNhbCBjb21wYXJpc29ucy4KCmBgYHtyfQpudW0gPC0gMzcKbnVtID4gMTAwCmBgYAoKQXMgMzcgaXMgbm90IGdyZWF0ZXIgdGhhbiAxMDAsIHRoaXMgcmV0dXJucyBhIGBGQUxTRWAgb2JqZWN0LiBBbmQgYXMgeW91IGxpa2VseSBndWVzc2VkLCB0aGUgb3Bwb3NpdGUgb2YgYEZBTFNFYCBpcyBgVFJVRWAuCgpgYGB7cn0KbnVtIDwgMTAwCmBgYAoKV2UgcGFpciB0aGVzZSBsb2dpY2FsIGNvbXBhcmlzb24gdG9vbHMgd2l0aCB3aGF0IFIgY2FsbHMgYSAqKmNvbmRpdGlvbmFsIHN0YXRlbWVudCoqLCBhbmQgaXQgbG9va3MgbGlrZSB0aGlzOgoKYGBge3IsIHJlc3VsdHM9J2hvbGQnfQpudW0gPC0gMzcKaWYgKG51bSA+IDEwMCkgewogIHByaW50KCJncmVhdGVyIikKfSBlbHNlIHsKICBwcmludCgibm90IGdyZWF0ZXIiKQp9CnByaW50KCJkb25lIikKYGBgCgpUaGUgc2Vjb25kIGxpbmUgb2YgdGhpcyBjb2RlIHVzZXMgYW4gYGlmYCBzdGF0ZW1lbnQgdG8gdGVsbCBSIHRoYXQgd2Ugd2FudCB0byBtYWtlIGEgY2hvaWNlLgpJZiB0aGUgZm9sbG93aW5nIHRlc3QgaXMgYFRSVUVgLCB0aGUgYm9keSBvZiB0aGUgYGlmYCAoaS5lLiwgdGhlIGxpbmVzIGluIHRoZSBjdXJseSBicmFjZXMgdW5kZXJuZWF0aCBpdCkgYXJlIGV4ZWN1dGVkLgpJZiB0aGUgdGVzdCBpcyBgRkFMU0VgLCB0aGUgYm9keSBvZiB0aGUgYGVsc2VgIGlzIGV4ZWN1dGVkIGluc3RlYWQuCk9ubHkgb25lIG9yIHRoZSBvdGhlciBpcyBldmVyIGV4ZWN1dGVkOgoKPCEtLSA8aW1nIHNyYz0iLi4vZmlndXJlcy9weXRob24tZmxvd2NoYXJ0LWNvbmRpdGlvbmFsLnN2ZyIgYWx0PSJFeGVjdXRpbmcgYSBDb25kaXRpb25hbCIgLz4gLS0+CiFbQ29uZGl0aW9uYWwgcHJvZ3JhbW1pbmddKGZpZ3VyZXMvcHl0aG9uLWZsb3djaGFydC1jb25kaXRpb25hbC5zdmcpCgpJbiB0aGUgZXhhbXBsZSBhYm92ZSwgdGhlIHRlc3QgYG51bSA+IDEwMGAgcmV0dXJucyB0aGUgdmFsdWUgYEZBTFNFYCwgd2hpY2ggaXMgd2h5IHRoZSBjb2RlIGluc2lkZSB0aGUgYGlmYCBibG9jayB3YXMgc2tpcHBlZCBhbmQgdGhlIGNvZGUgaW5zaWRlIHRoZSBgZWxzZWAgc3RhdGVtZW50IHdhcyBydW4gaW5zdGVhZC4KCmBgYHtyfQpudW0gPiAxMDAKYGBgCgpBbmQgYXMgeW91IGxpa2VseSBndWVzc2VkLCB0aGUgb3Bwb3NpdGUgb2YgYEZBTFNFYCBpcyBgVFJVRWAuCgpgYGB7cn0KbnVtIDwgMTAwCmBgYAoKQ29uZGl0aW9uYWwgc3RhdGVtZW50cyBkb24ndCBoYXZlIHRvIGluY2x1ZGUgYW4gYGVsc2VgLgpJZiB0aGVyZSBpc24ndCBvbmUsIFIgc2ltcGx5IGRvZXMgbm90aGluZyBpZiB0aGUgdGVzdCBpcyBmYWxzZToKCmBgYHtyfQpudW0gPC0gNTMKaWYgKG51bSA+IDEwMCkgewogIHByaW50KCJudW0gaXMgZ3JlYXRlciB0aGFuIDEwMCIpCn0KYGBgCgpXZSBjYW4gYWxzbyBjaGFpbiBzZXZlcmFsIHRlc3RzIHRvZ2V0aGVyIHdoZW4gdGhlcmUgYXJlIG1vcmUgdGhhbiB0d28gb3B0aW9ucy4KVGhpcyBtYWtlcyBpdCBzaW1wbGUgdG8gd3JpdGUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIHNpZ24gb2YgYSBudW1iZXI6CgpgYGB7cn0Kc2lnbiA8LSBmdW5jdGlvbihudW0pIHsKICBpZiAobnVtID4gMCkgewogICAgcmV0dXJuKDEpCiAgfSBlbHNlIGlmIChudW0gPT0gMCkgewogICAgcmV0dXJuKDApCiAgfSBlbHNlIHsKICAgIHJldHVybigtMSkKICB9Cn0KCnNpZ24oLTMpCnNpZ24oMCkKc2lnbigyLzMpCmBgYAoKTm90ZSB0aGF0IHdoZW4gY29tYmluaW5nIGBlbHNlYCBhbmQgYGlmYCBpbiBhbiBgZWxzZSBpZmAgc3RhdGVtZW50LCB0aGUgYGlmYCBwb3J0aW9uIHN0aWxsIHJlcXVpcmVzIGEgZGlyZWN0IGlucHV0IGNvbmRpdGlvbi4gIFRoaXMgaXMgbmV2ZXIgdGhlIGNhc2UgZm9yIHRoZSBgZWxzZWAgc3RhdGVtZW50IGFsb25lLCB3aGljaCBpcyBvbmx5IGV4ZWN1dGVkIGlmIGFsbCBvdGhlciBjb25kaXRpb25zIGdvIHVuc2F0aXNmaWVkLgpOb3RlIHRoYXQgdGhlIHRlc3QgZm9yIGVxdWFsaXR5IHVzZXMgdHdvIGVxdWFsIHNpZ25zLCBgPT1gLgoKIyMgT3RoZXIgQ29tcGFyaXNvbnMKT3RoZXIgdGVzdHMgaW5jbHVkZToKCiogZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIChgPj1gKSwKCiogbGVzcyB0aGFuIG9yIGVxdWFsIHRvKGA8PWApLCBhbmQKCiogbm90IGVxdWFsIHRvIChgIT1gKS4KCldlIGNhbiBhbHNvIGNvbWJpbmUgdGVzdHM6CgoqIHR3byBhbXBlcnNhbmRzLCBgJiZgLCBzeW1ib2xpemUgImFuZCIsCgoqIHR3byB2ZXJ0aWNhbCBiYXJzLCBgfHxgLCBzeW1ib2xpemUgIm9yIiwKCmAmJmAgaXMgb25seSB0cnVlIGlmIGJvdGggcGFydHMgYXJlIHRydWU6CgpgYGB7cn0KaWYgKDEgPiAwICYmIC0xID4gMCkgewogICAgcHJpbnQoImJvdGggcGFydHMgYXJlIHRydWUiKQp9IGVsc2UgewogIHByaW50KCJhdCBsZWFzdCBvbmUgcGFydCBpcyBub3QgdHJ1ZSIpCn0KYGBgCgp3aGlsZSBgfHxgIGlzIHRydWUgaWYgZWl0aGVyIHBhcnQgaXMgdHJ1ZToKCmBgYHtyfQppZiAoMSA+IDAgfHwgLTEgPiAwKSB7CiAgICBwcmludCgiYXQgbGVhc3Qgb25lIHBhcnQgaXMgdHJ1ZSIpCn0gZWxzZSB7CiAgcHJpbnQoIm5laXRoZXIgcGFydCBpcyB0cnVlIikKfQpgYGAKCkluIHRoaXMgY2FzZSwgImVpdGhlciIgbWVhbnMgImVpdGhlciBvciBib3RoIiwgbm90ICJlaXRoZXIgb25lIG9yIHRoZSBvdGhlciBidXQgbm90IGJvdGgiLgoKIyMjIFNhdmluZyBBdXRvbWF0aWNhbGx5IEdlbmVyYXRlZCBGaWd1cmVzCgpgYGB7ciwgcmVzdWx0cz0naGlkZSd9CmFuYWx5emUgPC0gZnVuY3Rpb24oZmlsZW5hbWUpIHsKICAjIFBsb3RzIHRoZSBhdmVyYWdlLCBtaW4sIGFuZCBtYXggaW5mbGFtbWF0aW9uIG92ZXIgdGltZS4KICAjIElucHV0IGlzIGNoYXJhY3RlciBzdHJpbmcgb2YgYSBjc3YgZmlsZS4KICBkYXQgPC0gcmVhZC5jc3YoZmlsZSA9IGZpbGVuYW1lLCBoZWFkZXIgPSBGQUxTRSkKICBhdmdfZGF5X2luZmxhbW1hdGlvbiA8LSBhcHBseShkYXQsIDIsIG1lYW4pCiAgcGxvdChhdmdfZGF5X2luZmxhbW1hdGlvbikKICBtYXhfZGF5X2luZmxhbW1hdGlvbiA8LSBhcHBseShkYXQsIDIsIG1heCkKICBwbG90KG1heF9kYXlfaW5mbGFtbWF0aW9uKQogIG1pbl9kYXlfaW5mbGFtbWF0aW9uIDwtIGFwcGx5KGRhdCwgMiwgbWluKQogIHBsb3QobWluX2RheV9pbmZsYW1tYXRpb24pCn0KCnBkZigiaW5mbGFtbWF0aW9uLTAxLnBkZiIpCmFuYWx5emUoImRhdGEvaW5mbGFtbWF0aW9uLTAxLmNzdiIpCmRldi5vZmYoKQpgYGAKCk5vdyB0aGF0IHdlIGtub3cgaG93IHRvIGhhdmUgUiBtYWtlIGRlY2lzaW9ucyBiYXNlZCBvbiBpbnB1dCB2YWx1ZXMsCmxldCdzIHVwZGF0ZSBgYW5hbHl6ZWA6CgpgYGB7ciBhbmFseXplLXNhdmV9CmFuYWx5emUgPC0gZnVuY3Rpb24oZmlsZW5hbWUsIG91dHB1dCA9IE5VTEwpIHsKICAjIFBsb3RzIHRoZSBhdmVyYWdlLCBtaW4sIGFuZCBtYXggaW5mbGFtbWF0aW9uIG92ZXIgdGltZS4KICAjIElucHV0OgogICMgICAgZmlsZW5hbWU6IGNoYXJhY3RlciBzdHJpbmcgb2YgYSBjc3YgZmlsZQogICMgICAgb3V0cHV0OiBjaGFyYWN0ZXIgc3RyaW5nIG9mIHBkZiBmaWxlIGZvciBzYXZpbmcKICBpZiAoIWlzLm51bGwob3V0cHV0KSkgewogICAgcGRmKG91dHB1dCkKICB9CiAgZGF0IDwtIHJlYWQuY3N2KGZpbGUgPSBmaWxlbmFtZSwgaGVhZGVyID0gRkFMU0UpCiAgYXZnX2RheV9pbmZsYW1tYXRpb24gPC0gYXBwbHkoZGF0LCAyLCBtZWFuKQogIHBsb3QoYXZnX2RheV9pbmZsYW1tYXRpb24pCiAgbWF4X2RheV9pbmZsYW1tYXRpb24gPC0gYXBwbHkoZGF0LCAyLCBtYXgpCiAgcGxvdChtYXhfZGF5X2luZmxhbW1hdGlvbikKICBtaW5fZGF5X2luZmxhbW1hdGlvbiA8LSBhcHBseShkYXQsIDIsIG1pbikKICBwbG90KG1pbl9kYXlfaW5mbGFtbWF0aW9uKQogIGlmICghaXMubnVsbChvdXRwdXQpKSB7CiAgICBkZXYub2ZmKCkKICB9Cn0KYGBgCgpXZSBhZGRlZCBhbiBhcmd1bWVudCwgYG91dHB1dGAsIHRoYXQgYnkgZGVmYXVsdCBpcyBzZXQgdG8gYE5VTExgLgpBbiBgaWZgIHN0YXRlbWVudCBhdCB0aGUgYmVnaW5uaW5nIGNoZWNrcyB0aGUgYXJndW1lbnQgYG91dHB1dGAgdG8gZGVjaWRlIHdoZXRoZXIgb3Igbm90IHRvIHNhdmUgdGhlIHBsb3RzIHRvIGEgcGRmLgpMZXQncyBicmVhayBpdCBkb3duLgpUaGUgZnVuY3Rpb24gYGlzLm51bGxgIHJldHVybnMgYFRSVUVgIGlmIGEgdmFyaWFibGUgaXMgYE5VTExgIGFuZCBgRkFMU0VgIG90aGVyd2lzZS4KVGhlIGV4Y2xhbWF0aW9uIG1hcmssIGAhYCwgc3RhbmRzIGZvciAibm90Ii4KVGhlcmVmb3JlIHRoZSBsaW5lIGluIHRoZSBgaWZgIGJsb2NrIGlzIG9ubHkgZXhlY3V0ZWQgaWYgYG91dHB1dGAgaXMgIm5vdCBudWxsIi4KCmBgYHtyfQpvdXRwdXQgPC0gTlVMTAppcy5udWxsKG91dHB1dCkKIWlzLm51bGwob3V0cHV0KQpgYGAKCk5vdyB3ZSBjYW4gdXNlIGBhbmFseXplYCBpbnRlcmFjdGl2ZWx5LCBhcyBiZWZvcmUsCgpgYGB7ciBpbmZsYW1tYXRpb24tMDF9CmFuYWx5emUoImRhdGEvaW5mbGFtbWF0aW9uLTAxLmNzdiIpCmBgYAoKYnV0IGFsc28gdXNlIGl0IHRvIHNhdmUgcGxvdHMsCgpgYGB7ciByZXN1bHRzPSdoaWRlJ30KYW5hbHl6ZSgiZGF0YS9pbmZsYW1tYXRpb24tMDEuY3N2Iiwgb3V0cHV0ID0gImluZmxhbW1hdGlvbi0wMS5wZGYiKQpgYGAKCkJlZm9yZSBnb2luZyBmdXJ0aGVyLCB3ZSB3aWxsIGNyZWF0ZSBhIGRpcmVjdG9yeSBgcmVzdWx0c2AgZm9yIHNhdmluZyBvdXIgcGxvdHMuCkl0IGlzIFtnb29kIHByYWN0aWNlXShodHRwOi8vc3djYXJwZW50cnkuZ2l0aHViLmlvL2dvb2QtZW5vdWdoLXByYWN0aWNlcy1pbi1zY2llbnRpZmljLWNvbXB1dGluZy8pIGluIGRhdGEgYW5hbHlzaXMgcHJvamVjdHMgdG8gc2F2ZSBhbGwgb3V0cHV0IHRvIGEgZGlyZWN0b3J5IHNlcGFyYXRlIGZyb20gdGhlIGRhdGEgYW5kIGFuYWx5c2lzIGNvZGUuCmBgYHtyIHdhcm5pbmcgPSBGQUxTRX0KIyBjcmVhdGUgYSBuZXcgZm9sZGVyIHVzaW5nIFIKZGlyLmNyZWF0ZSgicmVzdWx0cyIpCmBgYAoKTm93IHJ1biBgYW5hbHl6ZWAgYW5kIHNhdmUgdGhlIHBsb3QgaW4gdGhlIGByZXN1bHRzYCBkaXJlY3RvcnksCmBgYHtyIHJlc3VsdHM9J2hpZGUnfQphbmFseXplKCJkYXRhL2luZmxhbW1hdGlvbi0wMS5jc3YiLCBvdXRwdXQgPSAicmVzdWx0cy9pbmZsYW1tYXRpb24tMDEucGRmIikKYGBgCgpUaGlzIG5vdyB3b3JrcyB3ZWxsIHdoZW4gd2Ugd2FudCB0byBwcm9jZXNzIG9uZSBkYXRhIGZpbGUgYXQgYSB0aW1lLCBidXQgaG93IGNhbiB3ZSBzcGVjaWZ5IHRoZSBvdXRwdXQgZmlsZSBpbiBgYW5hbHl6ZV9hbGxgPwpXZSBuZWVkIHRvIGRvIHR3byB0aGluZ3M6CgoxLiBTdWJzdGl0dXRlIHRoZSBmaWxlbmFtZSBlbmRpbmcgImNzdiIgd2l0aCAicGRmIi4KMi4gU2F2ZSB0aGUgcGxvdCB0byB0aGUgYHJlc3VsdHNgIGRpcmVjdG9yeS4KClRvIGNoYW5nZSB0aGUgZXh0ZW5zaW9uIHRvICJwZGYiLCB3ZSB3aWxsIHVzZSB0aGUgZnVuY3Rpb24gYHN1YmAsCmBgYHtyfQpmIDwtICJpbmZsYW1tYXRpb24tMDEuY3N2IgpzdWIoImNzdiIsICJwZGYiLCBmKQpgYGAKVG8gYWRkIHRoZSAicmVzdWx0cyIgZGlyZWN0b3J5IHRvIHRoZSBmaWxlbmFtZSB1c2UgdGhlIGZ1bmN0aW9uIGBmaWxlLnBhdGhgLApgYGB7cn0KZmlsZS5wYXRoKCJyZXN1bHRzIiwgc3ViKCJjc3YiLCAicGRmIiwgZikpCmBgYAoKTm93IGxldCdzIHVwZGF0ZSBgYW5hbHl6ZV9hbGxgOgoKYGBge3IgYW5hbHl6ZV9hbGwtc2F2ZX0KYW5hbHl6ZV9hbGwgPC0gZnVuY3Rpb24ocGF0dGVybikgewogICMgRGlyZWN0b3J5IG5hbWUgY29udGFpbmluZyB0aGUgZGF0YQogIGRhdGFfZGlyIDwtICJkYXRhIgogICMgRGlyZWN0b3J5IG5hbWUgZm9yIHJlc3VsdHMKICByZXN1bHRzX2RpciA8LSAicmVzdWx0cyIKICAjIFJ1bnMgdGhlIGZ1bmN0aW9uIGFuYWx5emUgZm9yIGVhY2ggZmlsZSBpbiB0aGUgY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeQogICMgdGhhdCBjb250YWlucyB0aGUgZ2l2ZW4gcGF0dGVybi4KICBmaWxlbmFtZXMgPC0gbGlzdC5maWxlcyhwYXRoID0gZGF0YV9kaXIsIHBhdHRlcm4gPSBwYXR0ZXJuKQogIGZvciAoZiBpbiBmaWxlbmFtZXMpIHsKICAgIHBkZl9uYW1lIDwtIGZpbGUucGF0aChyZXN1bHRzX2Rpciwgc3ViKCJjc3YiLCAicGRmIiwgZikpCiAgICBhbmFseXplKGZpbGUucGF0aChkYXRhX2RpciwgZiksIG91dHB1dCA9IHBkZl9uYW1lKQogIH0KfQpgYGAKCk5vdyB3ZSBjYW4gc2F2ZSBhbGwgb2YgdGhlIHJlc3VsdHMgd2l0aCBqdXN0IG9uZSBsaW5lIG9mIGNvZGU6CgpgYGB7cn0KYW5hbHl6ZV9hbGwoImluZmxhbW1hdGlvbi4qY3N2IikKYGBgCgpOb3cgaWYgd2UgbmVlZCB0byBtYWtlIGFueSBjaGFuZ2VzIHRvIG91ciBhbmFseXNpcywgd2UgY2FuIGVkaXQgdGhlIGBhbmFseXplYCBmdW5jdGlvbiBhbmQgcXVpY2tseSByZWdlbmVyYXRlIGFsbCB0aGUgZmlndXJlcyB3aXRoIGBhbmFseXplX2FsbGAuCgojIyBFeGVyY2lzZTogQ2hhbmdpbmcgdGhlIEJlaGF2aW9yIG9mIHRoZSBQbG90IENvbW1hbmQKCk9uZSBvZiB5b3VyIGNvbGxhYm9yYXRvcnMgYXNrcyBpZiB5b3UgY2FuIHJlY3JlYXRlIHRoZSBmaWd1cmVzIHdpdGggbGluZXMgaW5zdGVhZCBvZiBwb2ludHMuCkZpbmQgdGhlIHJlbGV2YW50IGFyZ3VtZW50IHRvIGBwbG90YCBieSByZWFkaW5nIHRoZSBkb2N1bWVudGF0aW9uIChgP3Bsb3RgKSwKdXBkYXRlIGBhbmFseXplYCwgYW5kIHRoZW4gcmVjcmVhdGUgYWxsIHRoZSBmaWd1cmVzIHdpdGggYGFuYWx5emVfYWxsYC4KCmBgYHtyIGtuaXRfZXhpdCwgaW5jbHVkZT1GLCBlY2hvPUZ9CmtuaXRfZXhpdCgpCmBgYAo=</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("cond.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
